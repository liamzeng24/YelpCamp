{"filter":false,"title":"auth.js","tooltip":"/YelpCamp.5/routes/auth.js","undoManager":{"mark":5,"position":5,"stack":[[{"start":{"row":0,"column":0},"end":{"row":37,"column":0},"action":"insert","lines":["app.get(\"/register\", function(req, res){","    res.render(\"register\");","});","","app.post(\"/register\", function(req, res){","    console.log(\"posting...\");","    console.log(req.body.username);","    console.log(req.body.password);","    User.register(new User({username: req.body.username}), req.body.password, function(err, user){","        if(err) ","        {","            console.log(err);","            return res.render(\"register\");","        }","        passport.authenticate(\"local\")(req, res, function(){","            console.log(\"No error\");","            res.redirect(\"/campgrounds\");","        });","    });","});","","/// Login","app.get('/login', function(req, res){","    res.render(\"login\");","});","","app.post(\"/login\", passport.authenticate(\"local\",","    {","        successRedirect: \"/campgrounds\",","        failureRedirect: \"/login\"","    }), function(req, res){","});","","app.get(\"/logout\", function(req, res){","    req.logout();","    res.redirect('/');   ","});",""],"id":1}],[{"start":{"row":0,"column":0},"end":{"row":1,"column":0},"action":"insert","lines":["",""],"id":2}],[{"start":{"row":0,"column":0},"end":{"row":5,"column":36},"action":"insert","lines":["var express             = require(\"express\");","var router              = express.Router();","var AWS                 = require('aws-sdk');","var DynamoDB            = new AWS.DynamoDB();","var DocumentClient      = new AWS.DynamoDB.DocumentClient();","var app                 = express();"],"id":3}],[{"start":{"row":5,"column":36},"end":{"row":6,"column":0},"action":"insert","lines":["",""],"id":4}],[{"start":{"row":44,"column":0},"end":{"row":45,"column":0},"action":"insert","lines":["",""],"id":5}],[{"start":{"row":45,"column":0},"end":{"row":45,"column":24},"action":"insert","lines":["module.exports = router;"],"id":6}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":45,"column":24},"end":{"row":45,"column":24},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":74,"mode":"ace/mode/javascript"}},"timestamp":1599494469590,"hash":"a129530a62ab7ffa8c48c7bb08fbb23197aa86c6"}